import e from"axios";import{isObject as r,isArray as t,uniqueId as n}from"lodash-es";function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);r>t;t++)n[t]=e[t];return n}function i(e,r){if(e){if("string"==typeof e)return o(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,r):void 0}}function a(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=t){var n,o,i=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(e,r)||i(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;arguments.length>r;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){u(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var p={withCredentials:!1},f={get:"get",put:"put",patch:"patch",post:"post",delete:"delete",options:"options",head:"head",remove:"delete"},y=["get","remove","delete","head","options"],b=function(n){if(r(n)){var o,i,a=n.requestInterceptor,u=n.responseInterceptor;a&&(o=e.interceptors.request).use.apply(o,c(a)),u&&(i=e.interceptors.response).use.apply(i,c(u))}if(t(n))throw Error("HTTP SERVICE ERROR: The parameter of registerInterceptor must be an object containing 'requestInterceptor' or 'responseInterceptor'")},m=function(e){},d=function(r){var t=Object.entries(f).map((function(t){var o=a(t,2),i=o[0],c=o[1];return[i,function(t,o,a){var u=y.includes(i)?{params:t}:{body:t};l(l(l({url:r,method:c},u),a),{},{uuid:n(),cancelToken:new e.CancelToken((function(e){o(e)}))});var s=function(e){return l(l({},p),e)}(r);return e.request(s)}]}));return Object.fromEntries(t)};export{m as config,d as factory,b as registerInterceptor};
